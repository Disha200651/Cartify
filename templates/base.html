<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>{% block title %}Electronic Shop{% endblock %}</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700&family=Roboto:wght@400;500&display=swap" rel="stylesheet">
    {% block head_extra %}{% endblock %}
    <style>
        /* Simple professional palette */
        :root {
            --bg: #f6f7f9;
            --surface: #ffffff;
            --text: #1f2937;
            --muted: #6b7280;
            --primary: #c1121f; /* Brand red */
            --primary-dark: #a10f1a;
            --border: #e5e7eb;
            --shadow: 0 2px 12px rgba(0,0,0,0.06);
        }
        body { background: var(--bg); font-family: 'Roboto', sans-serif; color: var(--text); }
        .navbar { background: var(--primary); box-shadow: 0 1px 0 var(--border); }
        .navbar .container { color: #fff; }
        .navbar-brand { font-family: 'Montserrat', sans-serif; font-weight: 700; color: #fff; font-size: 1.25rem; }
        .navbar-brand:hover { color: #fff; opacity: 0.9; }
        .nav-link { color: #ffeaea; padding: .35rem .6rem; }
        .nav-link:hover, .nav-link.active { color: #ffffff !important; }
        .navbar-toggler-icon { filter: invert(1); }
        .brand-logo { height: 28px; width: auto; display: inline-block; vertical-align: middle; }
        .footer { background: var(--surface); color: var(--muted); padding: 1.25rem 0; margin-top: 3rem; box-shadow: 0 -1px 0 var(--border); }
        .footer a { color: var(--primary-dark); text-decoration: none; }
        .footer a:hover { text-decoration: underline; }
        /* Subtle pop effect for buttons and inputs */
        .btn { transition: transform .12s ease, box-shadow .12s ease, filter .12s ease; }
        .btn:hover { transform: translateY(-1px); box-shadow: 0 6px 18px rgba(0,0,0,0.08); filter: brightness(0.98); }
        .btn:active { transform: translateY(0); box-shadow: 0 2px 8px rgba(0,0,0,0.06); filter: none; }
        .input-group, .form-control { transition: transform .12s ease, box-shadow .12s ease; }
        .form-control:hover { box-shadow: 0 0 0 0.15rem rgba(0,0,0,0.05); }
        .form-control:focus { box-shadow: 0 0 0 0.25rem rgba(255,255,255,0.25), 0 6px 18px rgba(0,0,0,0.08); transform: translateY(-1px); }
        .input-group:focus-within { box-shadow: 0 6px 18px rgba(0,0,0,0.08); transform: translateY(-1px); border-radius: .375rem; }
        /* Compact topbar/subbar sizing */
        .topbar-container { padding-top: .5rem !important; padding-bottom: .5rem !important; }
        .topbar-search .input-group-text { border-radius: .375rem 0 0 .375rem; }
        .topbar-search .form-control { height: 36px; border-radius: 0 .375rem .375rem 0; }
        .subbar { min-height: 40px; }
        /* Ensure top actions stay on one line */
        .top-actions { flex-wrap: nowrap; gap: .5rem; }
        .top-actions .nav-link { white-space: nowrap; }
    </style>
</head>
<body>
<header class="sticky-top">
  <!-- Top bar: brand, search, quick actions -->
  <nav class="navbar">
    <div class="container d-flex align-items-center topbar-container">
      <div class="d-flex align-items-center">
        <a class="navbar-brand me-3" href="/">
          <img src="{{ url_for('static', filename='logo.svg') }}" alt="Cartify" class="brand-logo me-2" onerror="this.style.display='none'">Cartify
        </a>
      </div>
      
      <ul class="navbar-nav ms-auto align-items-center flex-row top-actions">
        <li class="nav-item"><a class="nav-link" href="/orders">Orders</a></li>
        <li class="nav-item"><a class="nav-link" href="/cart"><i class="bi bi-cart3"></i> Cart</a></li>
        {% if current_user.is_authenticated %}
          {% if current_user.is_admin %}
          <li class="nav-item"><a class="nav-link" href="/admin"><i class="bi bi-gear"></i> Admin</a></li>
          {% endif %}
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">
              {{ current_user.username }}
            </a>
            <ul class="dropdown-menu dropdown-menu-end">
              <li><a class="dropdown-item" href="/logout">Logout</a></li>
            </ul>
          </li>
        {% else %}
          <li class="nav-item"><a class="nav-link" href="/login">Login</a></li>
          <li class="nav-item"><a class="nav-link" href="/register">Register</a></li>
        {% endif %}
      </ul>
    </div>
  </nav>
  <!-- Sub bar: categories / secondary links -->
  <div class="subbar" style="background:#a10f1a;">
    <div class="container d-flex align-items-center" style="min-height:44px;">
      <ul class="navbar-nav flex-row me-auto">
        {% block nav_left %}{% endblock %}
      </ul>
      <ul class="navbar-nav ms-auto">
        <li class="nav-item"><a class="nav-link" href="/about" style="color:#ffeaea;">About</a></li>
      </ul>
    </div>
  </div>
</header>

<main class="container py-3">
    {% block content %}{% endblock %}
    {% block body_extra %}{% endblock %}
</main>

<footer class="footer">
  <div class="container">
    <div class="row">
      <div class="col-md-6">
        <h5 class="mb-2">Cartify</h5>
        <p class="mb-0">Quality electronics at great prices.</p>
      </div>
      <div class="col-md-6 text-md-end mt-3 mt-md-0">
        <a href="/about" class="me-3">About</a>
        <a href="/orders" class="me-3">Orders</a>
        <a href="/cart">Cart</a>
      </div>
    </div>
  </div>
</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
{% block scripts %}{% endblock %}
</body>
</html>

